{"version":3,"sources":["webpack:///./src/ui async","webpack:///./src/ui/main.ts","webpack:///./src/ui/app/app.component.ts","webpack:///./src/ui/app/app.module.ts","webpack:///./src/ui/app/member/member-list.component.ts","webpack:///./src/ui/app/member/member.component.ts","webpack:///./src/ui/environments/environment.ts","webpack:///./src/ui/app/app.component.scss","webpack:///./src/ui/app/app.component.html","webpack:///./src/ui/app/meetup.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 148;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ui async\n// module id = 148\n// module chunks = 2","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/main.ts","import {Component} from '@angular/core';\n\nimport {MeetupService} from './meetup.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  private type:'oauth'|'express' = 'oauth';\n\n  public constructor(private meetupService:MeetupService) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { MemberComponent } from './member/member.component';\nimport { MemberListComponent } from './member/member-list.component';\n\nimport { MeetupService } from './meetup.service';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MemberComponent,\n    MemberListComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    NgbModule.forRoot()\n  ],\n  providers: [\n    MeetupService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/app/app.module.ts","import {Component, Input} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\nimport 'rxjs/add/operator/debounceTime';\n\nimport {Member, MeetupService} from '../meetup.service';\n\n@Component({\n  selector: 'nm-ww-member-list',\n  template: `\n    <div class=\"input-group mb-2\" *ngFor=\"let member of pinned\">\n      <button class=\"btn glyphicons glyphicons-pin\" (click)=\"pinClick(member,pinned,results)\"></button>\n      <nm-ww-member [member]=\"member\"></nm-ww-member>\n    </div>\n    <hr />\n    <div class=\"input-group mb-2\" *ngFor=\"let member of results\">\n      <button class=\"btn glyphicons glyphicons-pushpin\" (click)=\"pinClick(member,results,pinned)\"></button>\n      <nm-ww-member [member]=\"member\"></nm-ww-member>\n    </div>\n  `,\n  styles: [\n    'div {border: solid 2px black;}'\n  ]\n})\nexport class MemberListComponent {\n  @Input() public set query(value:string) {\n    if (typeof value === 'string') {\n      this.meetupService.getMembers(value)\n        .debounceTime(200)\n        .subscribe((members:Member[]) => {\n          // TODO: filter members in this.pinned\n          this.results = members;\n        });\n    }\n  }\n\n  private pinned:Member[] = [];\n  private results:Member[] = [];\n\n  public constructor(private meetupService:MeetupService) { }\n\n  private pinClick(member:Member, from:Member[], to:Member[]):void {\n    let index = from.findIndex((availMember:Member) => {\n      return availMember.id === member.id;\n    });\n    from.splice(index, 1);\n    to.push(member);\n    this.meetupService.sortMembers(to);\n  }\n\n  private unpin(member:Member):void {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/app/member/member-list.component.ts","import {Component, Input} from '@angular/core';\nimport {DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\nimport {Member} from '../meetup.service';\n\n@Component({\n  selector: 'nm-ww-member',\n  template: `\n    <div class=\"media\">\n      <img class=\"media-left hidden-sm-down\" [src]=\"getPhotoUrl(member)\" />\n      <div class=\"media-body text-left ml-2 pr-2\">\n        <div class=\"row\">\n          <h4 class=\"col col-sm-12\">\n            <a href=\"{{member.link}}\" target=\"_blank\">\n              {{member.name}}\n            </a>\n          </h4>\n          <div class=\"col col-auto col-sm-12\">{{member.city}}{{member.city && member.state ? \", \" : \"\"}}{{member.state}}</div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-12 col-sm-6 col-lg-4\">Joined: {{member.joined | date}}</div>\n          <div class=\"col-12 col-sm-6 col-lg-8\">Bio: {{member.bio}}</div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-12 col-md-4\">Memberships: {{member.membership_count}}</div>\n          <div class=\"hidden-sm-down col-md-8\">Topics:\n            <div *ngFor=\"let topic of member.topics\"\n                class=\"badge badge-pill badge-secondary m-1\">\n              {{topic.name}}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [\n    ':host {flex: 1;}',\n    '.badge-pill {background-color: grey;}',\n    'img {max-height: 180px; max-width: 180px;}'\n  ]\n})\nexport class MemberComponent {\n  @Input() public member:Member;\n\n  public constructor(private sanitizer:DomSanitizer) { }\n\n  private getPhotoUrl(member:Member):SafeResourceUrl {\n    let photoURL:string = member.photo && member.photo.photo_link;\n    return this.sanitizer.bypassSecurityTrustResourceUrl(photoURL || '');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/app/member/member.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/environments/environment.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".btn {\\n  cursor: pointer; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ui/app/app.component.scss\n// module id = 220\n// module chunks = 2","module.exports = \"<div class=\\\"text-center container-fluid\\\">\\n  <h1 class=\\\"m-5\\\">Who's Who in MKE Tech</h1>\\n  <h4 class=\\\"hidden-sm-down\\\">powered by <a href=\\\"https://www.meetup.com/meetup_api/\\\" target=\\\"_blank\\\">Meetup.com API</a></h4>\\n\\n  <hr />\\n  <a href=\\\"{{meetupService.oathUrl}}/authorize?client_id={{meetupService.oauthKey}}&response_type=token&redirect_uri={{meetupService.redirectURI}}\\\">\\n    <button class=\\\"btn btn-lg btn-danger\\\" *ngIf=\\\"type === 'oauth' && !meetupService.accessToken\\\">\\n      get Meetup.com auth code\\n    </button>\\n  </a>\\n\\n  <div class=\\\"form-group\\\" *ngIf=\\\"meetupService.accessToken\\\">\\n    <ngb-alert *ngIf=\\\"type === 'express'\\\" type=\\\"danger\\\"\\n        (close)=\\\"type = 'oauth'\\\">\\n      Express.js server implementation has not been completed.\\n    </ngb-alert>\\n    <input #query class=\\\"form-control w-50 mx-auto\\\"\\n      *ngIf=\\\"type === 'oauth'\\\"\\n      (keyup.enter)=\\\"queryValue=query.value\\\"\\n      (blur)=\\\"queryValue=query.value\\\"\\n      (click)=\\\"query.select()\\\" />\\n    <br />\\n    <div [(ngModel)]=\\\"type\\\" ngbRadioGroup name=\\\"radioBasic\\\">\\n      <label class=\\\"btn btn-primary\\\">\\n        <input type=\\\"radio\\\" value=\\\"oauth\\\" />Meetup.com (Oauth2)\\n      </label>\\n      <label class=\\\"btn btn-primary\\\">\\n        <input type=\\\"radio\\\" value=\\\"express\\\" />express.js\\n      </label>\\n    </div>\\n  </div>\\n\\n  <nm-ww-member-list class=\\\"mx-3\\\" [query]=\\\"queryValue\\\"></nm-ww-member-list>\\n\\n  <a href=\\\"https://github.com/L1NT/nm-whos-who\\\" target=\\\"_blank\\\">\\n    <svg height=\\\"32\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"32\\\">\\n      <path fill-rule=\\\"evenodd\\\" d=\\\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\\\"></path>\\n    </svg>\\n  </a>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ui/app/app.component.html\n// module id = 223\n// module chunks = 2","import {Injectable} from '@angular/core';\nimport {Http, Response} from '@angular/http';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/switchMap';\n\nexport interface Member {\n  id:number,\n  bio:string,\n  birthday:string,\n  country:string,\n  city:string,\n  state:string,\n  hometown:string,\n  joined:Date,\n  link:string,\n  membership_count?:number,\n  name:string,\n  photo:{\n    base_url:string,\n    highres_link:string,\n    photo_id:number,\n    photo_link:string,\n    thumb_link:string,\n    type:string\n  },\n  status:string,\n  topics:string,\n  visited:Date\n}\n\n@Injectable()\nexport class MeetupService {\n  private readonly url:string = 'https://api.meetup.com/';\n  public readonly oathUrl = 'https://secure.meetup.com/oauth2/';\n  public readonly oauthKey = '505i52k35p57g85p8gvl905afa';\n  public readonly redirectURI = 'https://home.lukejeter.com:3723/nm/';\n  private readonly oauthSecret = 'h9eh4jgb00f4lo8rlv7knef9jq';\n\n  private accessToken:string;\n  private refreshToken:string;\n\n  private mkeGroupIds:string[];\n\n  public constructor(private http:Http) {\n    let urlHash:string[] = document.location.hash.split('&');\n    urlHash.forEach((property:string) => {\n      // FIXME: there's no guarantee access_token will be the first property\n      if (property.indexOf('#access_token=') === 0) {\n        this.accessToken = property.substring(14);\n      }\n    })\n  }\n\n  public sortMembers(members:Member[]) {\n    members.sort((a:Member, b:Member):number => {\n      if (a.name < b.name) return -1;\n      if (a.name > b.name) return 1;\n      return 0;\n    });\n  }\n\n  public getMembers(query:string):Observable<Member[]> {\n    return  this.getGroupIds().switchMap((groups:string[]) => {\n      if (!groups)\n        return Observable.of(undefined);\n\n      let searchParams = this.buildSearchParams();\n      searchParams.set('group_id', groups.join(\",\"));\n      // this will return the first 800 (of 1200+) members who joined MilwaukeeJS\n      searchParams.set('order', 'joined');\n\n      return this.http.get(this.url+'2/members?' + searchParams.toString()).map((response:Response) => {\n        let members:Member[] = response.json().results;\n        let needle = new RegExp(query, 'i');\n        let filtered = members.filter((member:Member) => {\n          return needle.test(member.name);\n        });\n        this.sortMembers(filtered);\n        return filtered;\n      }).catch((error:any):Observable<{}> => {\n        console.log(error);\n        this.accessToken = null;\n        return Observable.of(undefined);\n      });\n    });\n  }\n\n  private buildSearchParams():URLSearchParams {\n    let searchParams = new URLSearchParams();\n\n    searchParams.set('photo-host', 'public');\n    searchParams.set('access_token', this.accessToken);\n    return searchParams;\n  }\n\n  private getGroupIds():Observable<string[]> {\n    // this shouldn't change frequently enough that it needs to be checked more\n    // than once per page load\n    if (this.mkeGroupIds) {\n      return Observable.of(this.mkeGroupIds);\n    }\n\n    let searchParams = this.buildSearchParams();\n    searchParams.set('location', 'milwaukee');\n    searchParams.set('category', '34');\n    // appears to be a bug in the `http.es5.js:mergeOptions` function that improperly\n    // merges RequestOptions objects; for now, append query params manually\n    return this.http.get(this.url + 'find/groups?' + searchParams.toString())\n      .map((categories:Response) => {\n        this.mkeGroupIds = [];\n        // filter the groups to just those with 'js' or 'javascript' in the name\n        // because /members endpoint limits results to 800 and that was only returning\n        // most of the \"A\"s - there are 4 js/javascript groups & a plethora of members\n        let jsRegExp = new RegExp('milwaukeejs', 'i');\n        categories.json().forEach((category:any) => {\n          if (jsRegExp.test(category.name)) {\n            this.mkeGroupIds.push(category.id.toString());\n          }\n        });\n        return this.mkeGroupIds;\n      }).catch((error:any):Observable<{}> => {\n        this.accessToken = null;\n        return Observable.of(undefined);\n      });\n  }\n\n  private getRefreshedToken():Observable<{}> {\n    let params = new URLSearchParams();\n    params.set('client_id', this.oauthKey);\n    params.set('client_secret', this.oauthSecret);\n    params.set('grant_type', 'refresh_token');\n    params.set('refresh_token', this.refreshToken);\n    return this.http.post(this.oathUrl+'access', {body: params}).map((response:Response) => {\n      let resp = response.json();\n      this.accessToken = resp.access_token;\n      this.refreshToken = resp.refresh_token;\n      return undefined;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/app/meetup.service.ts"],"sourceRoot":""}